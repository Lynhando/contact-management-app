(()=>{"use strict";var e={694:e=>{e.exports=JSON.parse('[{"id":1,"name":"Do Ly Nhan","email":"nhan.dol@one-line.com","phone":"0123456789","address":"Da Nang","typeId":1},{"id":2,"name":"Tran Thi Dieu Linh","email":"linh.trantd@one-line.com","phone":"0123456789","address":"Hue","typeId":2}]')}},t={};function n(d){var a=t[d];if(void 0!==a)return a.exports;var o=t[d]={exports:{}};return e[d](o,o.exports,n),o.exports}(()=>{class e{constructor(e,t,n,d,a,o){this.id=e,this.name=t,this.email=n,this.phone=d,this.address=a,this.typeId=o}get $id(){return this.id}get $name(){return this.name}get $email(){return this.email}get $phone(){return this.phone}get $address(){return this.address}get $typeId(){return this.typeId}set $id(e){this.id=e}set $name(e){this.name=e}set $email(e){this.email=e}set $phone(e){this.phone=e}set $address(e){this.address=e}set $typeId(e){this.typeId=e}}const t=(e,t)=>e&&e.length?e:(localStorage.setItem("contacts",JSON.stringify(t)),t),d=e=>{const t=document.querySelector(".edit-form");t.elements.name.value=`${e.name}`,t.elements.email.value=`${e.email}`,t.elements.phone.value=`${e.phone}`,t.elements.address.value=`${e.address}`;const n=document.querySelector("#contactFormId");n.innerHTML="",n.appendChild(document.createTextNode(`${e.id}`)),n.hidden=!0,document.querySelectorAll("#editComboboxContact option").forEach((e=>e.removeAttribute("selected"))),document.querySelector(`#editComboboxContact option[id="${e.typeId}"]`).setAttribute("selected","selected")},a=n(694),o=JSON.parse(localStorage.getItem("contacts"));(e=>{const t=document.querySelector("#listContact tbody");t.innerHTML="";let n=0;e.forEach((e=>{const a=document.createElement("tr");Object.keys(e).forEach((t=>{const d=document.createElement("td"),o=document.createTextNode("id"===t?""+ ++n:e[t]);d.appendChild(o),"typeId"==t&&(d.hidden=!0),a.appendChild(d)}));const o=document.createElement("td"),s=document.createElement("button");s.setAttribute("id",e.id),s.setAttribute("class","btn btn-primary btn-xs edit"),s.setAttribute("data-toggle","modal"),s.setAttribute("data-target","#edit");const r=document.createElement("span");r.setAttribute("class","ti-pencil"),s.appendChild(r),o.appendChild(s),s.addEventListener("click",(t=>d(e))),a.appendChild(o);const i=document.createElement("td"),c=document.createElement("button");c.setAttribute("id",e.id),c.setAttribute("class","btn btn-danger btn-xs delete"),c.setAttribute("data-toggle","modal"),c.setAttribute("data-target","#delete");const l=document.createElement("span");l.setAttribute("class","ti-trash"),c.appendChild(l),i.appendChild(c),a.appendChild(i),null==t||t.appendChild(a)}))})(t(o,a));const s=document.querySelector(".add-form"),r=document.querySelector(".edit-form"),i=document.querySelector("#comboboxContact");s.addEventListener("submit",(n=>{n.preventDefault();const o=JSON.parse(localStorage.getItem("contacts")),r=t(o,a),c=new FormData(s),l=c.get("name"),m=c.get("email"),u=c.get("phone"),p=c.get("address"),h=i.selectedIndex,b=i.options[h],g=Number(b.getAttribute("id"));l&&m&&u&&p&&((t,n,a,o,s,r)=>{const i=r.length?r.length+1:1,c=new e(i,t,n,a,o,s),l=document.querySelector("#typeContact"),m=l.selectedIndex,u=l.options[m].getAttribute("id");if(`${s}`===u||!u){const e=document.querySelector("#listContact tbody"),t=e.childNodes.length+1,n=document.createElement("tr");Object.keys(c).forEach((e=>{let d=document.createElement("td"),a=document.createTextNode("id"===e?t:c[e]);d.appendChild(a),"typeId"===e&&(d.hidden=!0),n.appendChild(d)}));const a=document.createElement("td"),o=document.createElement("button");o.setAttribute("class","btn btn-primary btn-xs edit"),o.setAttribute("data-toggle","modal"),o.setAttribute("data-target","#edit");const s=document.createElement("span");s.setAttribute("class","ti-pencil"),o.appendChild(s),a.appendChild(o),o.addEventListener("click",(e=>d(c))),n.appendChild(a);const r=document.createElement("td"),i=document.createElement("button");i.setAttribute("class","btn btn-danger btn-xs delete"),i.setAttribute("data-toggle","modal"),i.setAttribute("data-target","#delete");const l=document.createElement("span");l.setAttribute("class","ti-trash"),i.appendChild(l),r.appendChild(i),n.appendChild(r),null==e||e.appendChild(n)}r.push(c),localStorage.setItem("contacts",JSON.stringify(r))})(l,m,u,p,g,r)}));const c=document.querySelector("#editComboboxContact");r.addEventListener("submit",(n=>{n.preventDefault();const d=JSON.parse(localStorage.getItem("contacts")),o=t(d,a),s=new FormData(r),i=s.get("name"),l=s.get("email"),m=s.get("phone"),u=s.get("address"),p=c.selectedIndex,h=c.options[p],b=Number(h.getAttribute("id")),g=document.querySelector("#contactFormId"),y=Number(g.innerHTML.trim());i&&l&&m&&u&&((t,n,d,a,o,s,r)=>{const i=new e(t,n,d,a,o,s),c=r.findIndex((e=>e.id===t));r.splice(c,1,i),localStorage.setItem("contacts",JSON.stringify(r)),location.reload()})(y,i,l,m,u,b,o)}))})()})();